# 구현 가이드 문서

## 1. 문서 개요

본 문서는 PRD(기획 문서)와 TRD(기술 요구사항 문서)를 기반으로 한 **개인 기술 블로그 프로젝트의 구현 과정**을 상세히 정리합니다.

**참고 문서:**
- PRD.md: 프로젝트 기획 및 요구사항
- TRD.md: 기술 스택 및 아키텍처 설계

---

## 2. 전체 개발 로드맵

### 2.1 개발 단계 개요

프로젝트는 **4단계(STEP)**로 나누어 진행합니다.

```
STEP 1: 기초 인프라 구축 (1-2주)
  ↓
STEP 2: 핵심 기능 구현 (2-3주)
  ↓
STEP 3: 사용자 경험 개선 (1-2주)
  ↓
STEP 4: 최적화 및 마무리 (1주)
```

### 2.2 각 단계별 목표

| 단계 | 목표 | 핵심 산출물 |
|------|------|------------|
| **STEP 1** | 프로젝트 기반 구축 및 기본 CRUD | 인증, 글 작성/조회 기능 |
| **STEP 2** | 콘텐츠 표현 및 분류 시스템 | Markdown 렌더링, 태그 시스템 |
| **STEP 3** | 탐색 및 미디어 기능 | 태그 필터링, 이미지 업로드 |
| **STEP 4** | 프로덕션 준비 | SEO, 다크모드, UI 정리 |

---

## 3. STEP 1: 기초 인프라 구축

### 3.1 목표
- Next.js 프로젝트 세팅 완료
- Supabase 연동 및 데이터베이스 구축
- 인증 시스템 구현
- 기본 글 CRUD 기능 구현

### 3.2 작업 항목 및 순서

#### 3.2.1 프로젝트 초기 설정

**작업 내용:**
1. Next.js 프로젝트 생성
   ```bash
   npx create-next-app@latest yujunsun_blog --typescript --tailwind --app
   ```
2. 폴더 구조 생성 (TRD.md 참고)
   - `app/` 디렉토리 구조 생성
   - `components/`, `lib/`, `hooks/`, `types/` 디렉토리 생성
3. 기본 설정 파일 구성
   - `tsconfig.json` 설정
   - `tailwind.config.ts` 설정
   - `.env.example` 파일 생성

**체크리스트:**
- [x] Next.js 프로젝트 생성 완료
- [x] 폴더 구조 생성 완료
- [x] TypeScript 설정 완료
- [x] Tailwind CSS 설정 완료
- [x] 환경 변수 예시 파일 생성 (수동 생성 필요: .env.example)

**예상 소요 시간:** 2-3시간

---

#### 3.2.2 Supabase 프로젝트 설정

**작업 내용:**
1. Supabase 프로젝트 생성
   - [supabase.com](https://supabase.com)에서 프로젝트 생성
   - 프로젝트 URL, API Key 확인
2. 환경 변수 설정
   - `.env.local` 파일 생성
   - `NEXT_PUBLIC_SUPABASE_URL`, `NEXT_PUBLIC_SUPABASE_ANON_KEY` 설정
3. Supabase 클라이언트 설정
   - `lib/supabase/client.ts` 생성
   - `lib/supabase/server.ts` 생성
   - `lib/supabase/types.ts` 생성 (초기 타입 정의)

**체크리스트:**
- [x] Supabase 프로젝트 생성 완료
- [x] 환경 변수 설정 완료
- [x] 클라이언트/서버 클라이언트 파일 생성
- [x] 타입 정의 파일 생성

**예상 소요 시간:** 1-2시간

---

#### 3.2.3 데이터베이스 스키마 구축

**작업 내용:**
1. Supabase SQL Editor에서 테이블 생성
   - `posts` 테이블 생성
   - `tags` 테이블 생성
   - `post_tags` 테이블 생성 (관계 테이블)
   - `images` 테이블 생성
2. RLS (Row Level Security) 정책 설정
   - 공개 읽기 정책
   - 관리자만 쓰기 정책
3. 타입 생성
   - `types/post.ts` - Post 타입 정의
   - `types/tag.ts` - Tag 타입 정의
   - `types/image.ts` - Image 타입 정의
   - `lib/supabase/types.ts` 업데이트

**SQL 실행 방법:**
1. **한 번에 실행 가능**: 아래 SQL을 모두 복사해서 Supabase SQL Editor에서 한 번에 실행 가능합니다.
2. **순서 중요**: 테이블 생성 → 트리거/인덱스 → RLS 정책 순서로 작성되어 있습니다.
3. **이미 생성된 경우**: 테이블이나 정책이 이미 있다면 에러가 발생할 수 있습니다. 이 경우:
   - 에러 메시지를 확인하고 해당 부분만 수정하거나
   - `DROP TABLE IF EXISTS` 또는 `DROP POLICY IF EXISTS`로 기존 객체 삭제 후 재실행

**SQL 예시:**
```sql
-- posts 테이블
CREATE TABLE posts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title TEXT NOT NULL,
  description TEXT,
  content TEXT NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('TECH', 'TROUBLESHOOTING', 'PROJECT')),
  thumbnail_url TEXT,
  is_published BOOLEAN DEFAULT false,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- updated_at 자동 갱신 트리거 함수 생성
CREATE OR REPLACE FUNCTION set_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- posts 테이블에 updated_at 자동 갱신 트리거 적용
CREATE TRIGGER trigger_set_updated_at_posts
BEFORE UPDATE ON posts
FOR EACH ROW
EXECUTE FUNCTION set_updated_at();

-- published 글 조회용 인덱스 (성능 최적화)
CREATE INDEX idx_posts_published_created
ON posts (is_published, created_at DESC);

-- tags 테이블
CREATE TABLE tags (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT UNIQUE NOT NULL
);

-- post_tags 관계 테이블
CREATE TABLE post_tags (
  post_id UUID REFERENCES posts(id) ON DELETE CASCADE,
  tag_id UUID REFERENCES tags(id) ON DELETE CASCADE,
  PRIMARY KEY (post_id, tag_id)
);

-- images 테이블
CREATE TABLE images (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  url TEXT NOT NULL,
  post_id UUID NOT NULL REFERENCES posts(id) ON DELETE CASCADE,
  position INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- images 조회용 인덱스 (성능 최적화)
CREATE INDEX idx_images_post_id ON images(post_id);

-- comments 테이블
CREATE TABLE comments (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  post_id UUID NOT NULL REFERENCES posts(id) ON DELETE CASCADE,
  content TEXT NOT NULL CHECK (char_length(content) <= 2000),
  author_name TEXT,
  author_id UUID REFERENCES auth.users(id) ON DELETE SET NULL,
  password_hash TEXT,
  ip_address TEXT,
  is_deleted BOOLEAN DEFAULT false,
  deleted_at TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  CHECK (
    (author_id IS NOT NULL AND author_name IS NULL AND password_hash IS NULL) OR
    (author_id IS NULL AND author_name IS NOT NULL AND password_hash IS NOT NULL)
  )
);

-- comments 테이블에 updated_at 자동 갱신 트리거 적용
CREATE TRIGGER trigger_set_updated_at_comments
BEFORE UPDATE ON comments
FOR EACH ROW
EXECUTE FUNCTION set_updated_at();

-- comments 조회용 인덱스 (성능 최적화)
CREATE INDEX idx_comments_post_created
ON comments (post_id, created_at DESC)
WHERE is_deleted = false;

-- ============================================
-- RLS (Row Level Security) 정책 설정
-- ============================================

-- 1. posts 테이블 RLS
ALTER TABLE posts ENABLE ROW LEVEL SECURITY;

-- 공개 글은 모두 읽기 가능
CREATE POLICY "공개 글은 모두 읽기 가능"
ON posts FOR SELECT
USING (is_published = true);

-- 관리자만 글 작성/수정/삭제 가능
CREATE POLICY "관리자만 글 작성 가능"
ON posts FOR INSERT
WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "관리자만 글 수정 가능"
ON posts FOR UPDATE
USING (auth.role() = 'authenticated');

CREATE POLICY "관리자만 글 삭제 가능"
ON posts FOR DELETE
USING (auth.role() = 'authenticated');

-- 2. tags 테이블 RLS
ALTER TABLE tags ENABLE ROW LEVEL SECURITY;

-- 태그는 모두 읽기 가능
CREATE POLICY "태그는 모두 읽기 가능"
ON tags FOR SELECT
USING (true);

-- 관리자만 태그 작성/수정/삭제 가능
CREATE POLICY "관리자만 태그 작성 가능"
ON tags FOR INSERT
WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "관리자만 태그 수정 가능"
ON tags FOR UPDATE
USING (auth.role() = 'authenticated');

CREATE POLICY "관리자만 태그 삭제 가능"
ON tags FOR DELETE
USING (auth.role() = 'authenticated');

-- 3. post_tags 테이블 RLS
ALTER TABLE post_tags ENABLE ROW LEVEL SECURITY;

-- post_tags는 모두 읽기 가능
CREATE POLICY "post_tags는 모두 읽기 가능"
ON post_tags FOR SELECT
USING (true);

-- 관리자만 태그 연결 가능
CREATE POLICY "관리자만 태그 연결 가능"
ON post_tags FOR INSERT
WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "관리자만 태그 연결 해제 가능"
ON post_tags FOR DELETE
USING (auth.role() = 'authenticated');

-- 4. images 테이블 RLS
ALTER TABLE images ENABLE ROW LEVEL SECURITY;

-- 이미지는 모두 읽기 가능
CREATE POLICY "이미지는 모두 읽기 가능"
ON images FOR SELECT
USING (true);

-- 관리자만 이미지 업로드/삭제 가능
CREATE POLICY "관리자만 이미지 업로드 가능"
ON images FOR INSERT
WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "관리자만 이미지 삭제 가능"
ON images FOR DELETE
USING (auth.role() = 'authenticated');

-- 5. comments 테이블 RLS
ALTER TABLE comments ENABLE ROW LEVEL SECURITY;

-- 삭제되지 않은 댓글은 모두 읽기 가능
CREATE POLICY "댓글은 모두 읽기 가능"
ON comments FOR SELECT
USING (is_deleted = false);

-- 회원/비회원 모두 댓글 작성 가능
CREATE POLICY "모두 댓글 작성 가능"
ON comments FOR INSERT
WITH CHECK (true);

-- 회원 댓글: 본인만 수정 가능
CREATE POLICY "회원 댓글 본인만 수정 가능"
ON comments FOR UPDATE
USING (auth.uid() IS NOT NULL AND author_id = auth.uid());

-- 비회원 댓글 수정: RLS로는 제어 불가 (비밀번호 확인 필요)
-- 애플리케이션에서 비밀번호 확인 후 서비스 역할로 수정해야 함
-- 또는 Edge Function을 통해 처리

-- 회원 댓글: 본인만 삭제 가능
CREATE POLICY "회원 댓글 본인만 삭제 가능"
ON comments FOR DELETE
USING (auth.uid() IS NOT NULL AND author_id = auth.uid());

-- 비회원 댓글 삭제: RLS로는 제어 불가 (비밀번호 확인 필요)
-- 애플리케이션에서 비밀번호 확인 후 서비스 역할로 삭제해야 함
-- 또는 Edge Function을 통해 처리
```

**RLS 정책 요약:**
- **읽기 (SELECT)**: 공개 데이터는 모두 읽기 가능
- **쓰기 (INSERT/UPDATE/DELETE)**: 
  - `posts`, `tags`, `post_tags`, `images`: 관리자만 가능
  - `comments`: 모두 작성 가능, 본인만 수정/삭제 가능

**주의사항:**
- **비회원 댓글 수정/삭제**: RLS로는 비밀번호 확인이 불가능하므로 다음 방법 중 하나 선택:
  1. **Edge Function 사용**: Supabase Edge Function에서 비밀번호 확인 후 수정/삭제
  2. **서비스 역할 사용**: 애플리케이션에서 비밀번호 확인 후 서비스 역할 키로 수정/삭제
  3. **API Route 사용**: Next.js API Route에서 비밀번호 확인 후 처리
- **관리자 권한**: 현재는 모든 인증된 사용자가 관리자로 처리됨. 필요시 특정 사용자만 관리자로 제한하는 정책 추가 가능

**체크리스트:**
- [x] 모든 테이블 생성 완료 (posts, tags, post_tags, images, comments)
- [x] updated_at 자동 갱신 트리거 생성 완료
- [x] 성능 최적화 인덱스 생성 완료
- [x] RLS 정책 설정 완료
- [x] TypeScript 타입 정의 완료
  - `lib/supabase/types.ts` - Database 타입 정의
  - `types/post.ts` - Post 도메인 타입
  - `types/tag.ts` - Tag 도메인 타입
  - `types/image.ts` - Image 도메인 타입
  - `types/comment.ts` - Comment 도메인 타입
- [ ] 테스트 데이터 삽입 (선택)

**추가 최적화 사항:**
1. **updated_at 자동 갱신 트리거**
   - UPDATE 시 updated_at이 자동으로 갱신됨
   - 수동으로 updated_at을 설정할 필요 없음
   - 실무 표준 패턴

2. **태그별 글 개수 조회 (실시간 COUNT)**
   - `post_count` 컬럼 제거 (유지보수 단순화)
   - 조회 시 실시간 COUNT 사용
   - 인덱스 활용으로 성능 충분 (개인 블로그 규모)
   ```sql
   -- 태그 목록 조회 (공개 글 개수만 포함)
   SELECT 
     t.id,
     t.name,
     COUNT(DISTINCT pt.post_id) AS post_count
   FROM tags t
   LEFT JOIN post_tags pt ON t.id = pt.tag_id
   LEFT JOIN posts p ON pt.post_id = p.id AND p.is_published = true
   GROUP BY t.id, t.name
   ORDER BY post_count DESC, t.name ASC;
   ```
   **장점:**
   - 트리거 관리 불필요 (유지보수 단순화)
   - 항상 정확한 데이터 (실시간 COUNT)
   - 인덱스 활용으로 성능 충분

3. **images 테이블 최적화**
   - `post_id NOT NULL`: 모든 이미지는 반드시 글에 속함 (단순화)
   - `position`: 이미지 순서 관리 (Markdown에서 순서 중요)
   - `created_at`: 관리/디버깅 용이
   - `idx_images_post_id`: post_id 조회 최적화

4. **comments 테이블 최적화**
   - `content 길이 제한`: 최대 2000자 제한 (UI/UX 안정성)
   - `author_id SET NULL`: 회원 탈퇴 시 댓글은 유지, 작성자만 NULL 처리
   - `deleted_at`: 삭제 시각 기록 (운영/디버깅 용이)
   - `CHECK 제약 강화`: 회원 또는 비회원 중 정확히 하나만 허용 (명확성)
   - `idx_comments_post_created`: 댓글 목록 조회 최적화 (삭제되지 않은 댓글만)

5. **성능 최적화 인덱스**
   - `idx_posts_published_created`: 공개 글 목록 조회 최적화
   - `idx_comments_post_created`: 댓글 목록 조회 최적화 (삭제되지 않은 댓글만)
   - `idx_images_post_id`: 이미지 목록 조회 최적화
   - `post_tags` 테이블의 외래키 인덱스 자동 생성됨 (JOIN 성능 보장)

**예상 소요 시간:** 2-3시간

---

#### 3.2.4 인증 시스템 구현

**작업 내용:**
1. Supabase Auth 설정
   - Email 로그인 활성화
   - GitHub 소셜 로그인 설정
     - GitHub OAuth App 생성
     - Client ID, Client Secret 설정
     - Redirect URL 설정
   - Google 소셜 로그인 설정
     - Google Cloud Console에서 OAuth 설정
     - Client ID, Client Secret 설정
     - Redirect URL 설정
   - 관리자 계정 생성 (Email 또는 소셜 로그인)
2. 인증 관련 컴포넌트 생성
   - `app/(admin)/login/page.tsx` - 로그인 페이지
   - `components/auth/LoginForm.tsx` - Email 로그인 폼 컴포넌트
   - `components/auth/SocialLoginButtons.tsx` - 소셜 로그인 버튼 컴포넌트
   - `components/auth/LogoutButton.tsx` - 로그아웃 버튼 컴포넌트
3. 인증 Hook 생성
   - `hooks/useAuth.ts` - 인증 상태 관리
   - 소셜 로그인 처리 함수 포함
4. 인증 미들웨어 구현
   - 관리자 페이지 접근 시 인증 확인
   - 미인증 시 로그인 페이지로 리다이렉트

**Supabase 소셜 로그인 설정 가이드:**
1. Supabase Dashboard → Authentication → Providers
2. GitHub/Google 활성화
3. OAuth App 정보 입력
4. Redirect URL 설정: `https://your-project.supabase.co/auth/v1/callback`

**체크리스트:**
- [x] 인증 Hook 구현 완료 (`hooks/useAuth.ts`)
- [x] 로그인 페이지 구현 완료 (`app/(admin)/login/page.tsx`)
- [x] Email 로그인 폼 구현 완료 (`components/auth/LoginForm.tsx`)
- [x] 소셜 로그인 버튼 구현 완료 (`components/auth/SocialLoginButtons.tsx`)
- [x] 로그아웃 버튼 구현 완료 (`components/auth/LogoutButton.tsx`)
- [x] 인증 콜백 라우트 구현 완료 (`app/auth/callback/route.ts`)
- [x] 인증 미들웨어 구현 완료 (`middleware.ts`)
- [x] 대시보드 페이지 구현 완료 (`app/(admin)/dashboard/page.tsx`)
- [ ] Supabase Auth 설정 완료 (Dashboard에서 수동 설정 필요)
- [ ] Email 로그인 활성화 완료
- [ ] GitHub 소셜 로그인 설정 완료
- [ ] Google 소셜 로그인 설정 완료
- [ ] 로그인/로그아웃 테스트 완료 (모든 방식)

**예상 소요 시간:** 4-5시간

---

#### 3.2.5 기본 레이아웃 구성

**작업 내용:**
1. 루트 레이아웃 생성
   - `app/layout.tsx` - 루트 레이아웃
   - `app/globals.css` - 전역 스타일
2. 공개 페이지 레이아웃
   - `app/(public)/layout.tsx` - 공개 페이지 레이아웃
   - `components/layout/Header.tsx` - 헤더 컴포넌트
   - `components/layout/Footer.tsx` - 푸터 컴포넌트
3. 관리자 페이지 레이아웃
   - `app/(admin)/layout.tsx` - 관리자 레이아웃
   - 네비게이션 메뉴 포함

**체크리스트:**
- [x] 루트 레이아웃 생성 완료
- [x] 공개 페이지 레이아웃 생성 완료
- [x] 관리자 페이지 레이아웃 생성 완료
- [x] Header/Footer 컴포넌트 구현 완료

**예상 소요 시간:** 2-3시간

---

#### 3.2.6 글 CRUD 기능 구현 (텍스트 중심)

**작업 내용:**
1. 글 작성 기능
   - `app/(admin)/dashboard/posts/new/page.tsx` - 새 글 작성 페이지
   - `components/admin/PostForm.tsx` - 글 작성 폼
   - 제목, 설명, 내용, 타입 입력
   - Draft/Publish 상태 선택
2. 글 목록 조회
   - `app/(public)/page.tsx` - 메인 페이지 (공개 글 목록)
   - `app/(admin)/dashboard/page.tsx` - 대시보드 (모든 글 목록)
   - `components/post/PostCard.tsx` - 글 카드 컴포넌트
3. 글 상세 조회
   - `app/(public)/posts/[slug]/page.tsx` - 글 상세 페이지
   - `components/post/PostHeader.tsx` - 글 헤더 컴포넌트
   - `components/post/PostContent.tsx` - 글 내용 컴포넌트 (텍스트만)
4. 글 수정 기능
   - `app/(admin)/dashboard/posts/[id]/edit/page.tsx` - 글 수정 페이지
   - 기존 데이터 로드 및 수정
5. 글 삭제 기능
   - 삭제 버튼 및 확인 모달

**데이터 페칭 함수:**
- `lib/supabase/posts.ts` - 글 관련 데이터베이스 함수 생성

**체크리스트:**
- [x] 글 작성 페이지 구현 완료 (`app/(admin)/dashboard/posts/new/page.tsx`)
- [x] 글 목록 페이지 구현 완료 (`app/(public)/page.tsx`, `app/(admin)/dashboard/posts/page.tsx`)
- [x] 글 상세 페이지 구현 완료 (`app/(public)/posts/[slug]/page.tsx`)
- [x] 글 수정 페이지 구현 완료 (`app/(admin)/dashboard/posts/[id]/edit/page.tsx`)
- [x] 글 삭제 기능 구현 완료 (`components/admin/DeletePostButton.tsx`)
- [x] 데이터베이스 함수 구현 완료 (`lib/supabase/posts.ts`)
- [x] API 라우트 구현 완료 (`app/api/posts/route.ts`, `app/api/posts/[id]/route.ts`)
- [ ] CRUD 기능 테스트 완료 (수동 테스트 필요)

**구현된 파일:**
- `app/(admin)/dashboard/posts/new/page.tsx` - 글 작성 페이지
- `app/(admin)/dashboard/posts/[id]/edit/page.tsx` - 글 수정 페이지
- `app/(admin)/dashboard/posts/page.tsx` - 관리자 글 목록 페이지
- `app/(public)/page.tsx` - 메인 페이지 (공개 글 목록)
- `app/(public)/posts/[slug]/page.tsx` - 글 상세 페이지
- `components/admin/PostForm.tsx` - 글 작성/수정 폼
- `components/admin/DeletePostButton.tsx` - 글 삭제 버튼
- `components/post/PostCard.tsx` - 글 카드 컴포넌트
- `components/post/PostHeader.tsx` - 글 헤더 컴포넌트
- `components/post/PostContent.tsx` - 글 내용 컴포넌트 (현재 텍스트만, Markdown 렌더링 미구현)
- `lib/supabase/posts.ts` - 글 관련 데이터베이스 함수
- `app/api/posts/route.ts` - 글 생성 API
- `app/api/posts/[id]/route.ts` - 글 수정/삭제 API

**현재 제한사항:**
- 글 내용은 텍스트만 표시 (Markdown 렌더링 미구현 - STEP 2에서 구현 예정)
- 태그 연결 기능 미구현 (STEP 2에서 구현 예정)
- 썸네일 이미지 업로드 기능 미구현 (STEP 3에서 구현 예정)

**예상 소요 시간:** 6-8시간

---

### 3.3 STEP 1 완료 기준

- ✅ Next.js 프로젝트 실행 가능
- ✅ Supabase 연동 완료
- ✅ 인증 시스템 구현 완료 (코드 레벨)
- ✅ 기본 레이아웃 구성 완료
- ✅ 글 작성/조회/수정/삭제 기능 구현 완료 (코드 레벨)
- ✅ 공개 페이지와 관리자 페이지 분리 확인

**완료 상태:** 약 90% 완료
- 코드 구현: ✅ 완료
- 수동 설정: ⏳ Supabase Dashboard에서 Auth 설정 필요
- 테스트: ⏳ 수동 테스트 필요

**예상 총 소요 시간:** 16-21시간 (약 1-2주)

---

## 4. STEP 2: 핵심 기능 구현

### 4.1 목표
- Markdown 렌더링 및 코드 하이라이팅
- 태그 시스템 구현
- 태그 CRUD 기능

### 4.2 작업 항목 및 순서

#### 4.2.1 Markdown 렌더링 구현

**작업 내용:**
1. Markdown 라이브러리 설치
   ```bash
   npm install react-markdown remark-gfm rehype-raw
   ```
2. Markdown 렌더러 컴포넌트 생성
   - `components/markdown/MarkdownRenderer.tsx` - 메인 렌더러
   - `components/markdown/CodeBlock.tsx` - 코드 블록 컴포넌트
3. 코드 하이라이팅 라이브러리 설치
   ```bash
   npm install react-syntax-highlighter @types/react-syntax-highlighter
   ```
4. 코드 하이라이팅 적용
   - 언어별 하이라이팅
   - 테마 설정
5. Markdown 스타일 적용
   - `styles/markdown.css` 생성
   - 제목, 리스트, 링크 등 스타일링

**체크리스트:**
- [x] Markdown 라이브러리 설치 완료 (`react-markdown`, `remark-gfm`, `rehype-raw`, `rehype-highlight`)
- [x] Markdown 렌더링 구현 완료 (`components/post/PostContent.tsx`)
- [x] 코드 하이라이팅 라이브러리 설치 완료 (`rehype-highlight`, `highlight.js`)
- [x] 코드 블록 스타일 적용 완료
- [x] Markdown 스타일 적용 완료 (`app/globals.css`)
- [x] PostContent 컴포넌트에 Markdown 적용 완료
- [x] Velog 스타일 마크다운 에디터 구현 완료 (`components/admin/MarkdownEditor.tsx`)
  - 실시간 미리보기
  - 툴바 (H1-H4, Bold, Italic, Strikethrough, Quote, Link, Image, Code)
  - 커서 위치 및 선택 범위 관리

**예상 소요 시간:** 4-5시간

---

#### 4.2.2 태그 시스템 구현

**작업 내용:**
1. 태그 데이터베이스 함수 생성
   - `lib/supabase/tags.ts` - 태그 관련 함수
   - 태그 생성, 조회, 수정, 삭제 함수
   - 태그 목록 조회 함수 (실시간 COUNT 포함)
2. 태그 컴포넌트 생성
   - `components/tag/TagBadge.tsx` - 태그 뱃지 컴포넌트
   - `components/tag/TagList.tsx` - 태그 목록 컴포넌트
3. 글 작성/수정 시 태그 연결
   - PostForm에 태그 선택 기능 추가
   - 기존 태그 선택 또는 새 태그 생성
4. 글 상세 페이지에 태그 표시
   - PostHeader 또는 PostTags 컴포넌트에 태그 표시

**체크리스트:**
- [x] 태그 데이터베이스 함수 구현 완료 (`lib/supabase/tags.ts`)
- [x] TagBadge 컴포넌트 구현 완료 (`components/tag/TagBadge.tsx`)
- [x] PostTags 컴포넌트 구현 완료 (`components/post/PostTags.tsx`)
- [x] 글 작성 시 태그 연결 기능 구현 완료 (`components/admin/PostForm.tsx`)
- [x] 글 상세 페이지에 태그 표시 완료 (`app/(public)/posts/[slug]/page.tsx`)
- [x] 태그 목록 조회 시 실시간 COUNT 구현 완료 (`getAllTagsWithCount`, `getPublishedTagsWithCount`)
- [x] 태그 필터링 UI 구현 완료 (`components/tag/TagFilter.tsx`, `components/post/PostsList.tsx`)

**예상 소요 시간:** 5-6시간

---

#### 4.2.3 태그 관리 기능 (관리자)

**작업 내용:**
1. 태그 관리 페이지 생성
   - `app/(admin)/dashboard/tags/page.tsx` - 태그 관리 페이지
   - 태그 목록 표시
   - 태그 수정/삭제 기능
2. 태그 CRUD UI 구현
   - 태그 생성 폼
   - 태그 수정 모달
   - 태그 삭제 확인

**체크리스트:**
- [x] 태그 관리 페이지 구현 완료 (`app/(admin)/dashboard/tags/page.tsx`)
- [x] 태그 목록 표시 완료 (읽기 전용)
- [x] 태그는 글 작성 시에만 생성되도록 변경 완료
- [x] 태그 직접 수정/삭제 기능 비활성화 완료 (API에서 403 반환)

**예상 소요 시간:** 3-4시간

---

### 4.3 STEP 2 완료 기준

- ✅ Markdown 렌더링 정상 동작
- ✅ 코드 하이라이팅 정상 동작
- ✅ Velog 스타일 마크다운 에디터 구현 완료
- ✅ 태그 생성/연결 기능 동작 확인
- ✅ 글에 태그 표시 확인
- ✅ 태그별 글 개수 집계 확인
- ✅ 태그 필터링 UI 구현 완료

**완료 상태:** ✅ 완료

**예상 총 소요 시간:** 12-15시간 (약 2-3주)

---

## 5. STEP 3: 사용자 경험 개선

### 5.1 목표
- 태그 기반 필터링 UI 구현
- 이미지 업로드 기능 구현

### 5.2 작업 항목 및 순서

#### 5.2.1 태그 기반 필터링 UI 구현

**작업 내용:**
1. 태그 필터 컴포넌트 생성
   - `components/tag/TagFilter.tsx` - Velog 스타일 태그 필터
   - 태그 목록 표시 (글 개수 포함)
   - 선택된 태그 시각적 강조
   - 전체 보기 옵션
2. 태그별 글 목록 페이지 생성
   - `app/(public)/tags/[tag]/page.tsx` - 태그별 글 목록 페이지
   - 선택한 태그의 글만 필터링하여 표시
3. 메인 페이지에 태그 필터 통합
   - `app/(public)/page.tsx`에 TagFilter 컴포넌트 추가
   - 사이드바 또는 상단에 배치
4. 클라이언트 사이드 필터링 (선택)
   - URL 파라미터 기반 필터링
   - 또는 클라이언트 상태 기반 필터링

**체크리스트:**
- [x] TagFilter 컴포넌트 구현 완료 (`components/tag/TagFilter.tsx`)
- [x] 태그별 글 목록 필터링 구현 완료 (`components/post/PostsList.tsx`)
- [x] 메인 페이지에 태그 필터 통합 완료 (`app/(public)/page.tsx`)
- [x] 태그 클릭 시 필터링 동작 확인
- [x] 선택된 태그 시각적 강조 확인

**예상 소요 시간:** 5-6시간

---

#### 5.2.2 이미지 업로드 기능 구현

**작업 내용:**
1. Supabase Storage 설정
   - Storage 버킷 생성 (`images` 또는 `posts`)
   - 업로드 정책 설정 (인증된 사용자만 업로드)
2. 이미지 업로드 컴포넌트 생성
   - `components/admin/ImageUploader.tsx` - 이미지 업로드 컴포넌트
   - 드래그 앤 드롭 지원 (선택)
   - 업로드 진행률 표시
   - 이미지 미리보기
3. 이미지 업로드 API 라우트 생성
   - `app/(admin)/api/upload/route.ts` - 이미지 업로드 API
   - 파일 크기 검증 (5MB 제한)
   - 파일 타입 검증 (이미지만)
4. 글 작성/수정 시 이미지 첨부
   - PostForm에 ImageUploader 통합
   - 업로드된 이미지 URL을 content에 삽입
5. 이미지 표시
   - 글 상세 페이지에서 이미지 표시
   - Next.js Image 컴포넌트 사용 (최적화)

**체크리스트:**
- [x] Supabase Storage 설정 완료 (`images` 버킷)
- [x] Storage 정책 설정 완료 (`sql/create_storage_policies.sql`)
- [x] 이미지 업로드 API 구현 완료 (`app/api/upload/image/route.ts`)
- [x] 이미지 업로드 공통 함수 구현 완료 (`lib/supabase/storage.ts`)
- [x] 앨범 이미지 업로드 기능 구현 완료 (`components/admin/AlbumImageUploader.tsx`)
- [x] 한글 파일명 처리 개선 완료 (sanitizeFilename 함수)
- [x] 사용자 친화적인 에러 메시지 구현 완료
- [x] 글 작성 시 이미지 첨부 기능 구현 완료 (`components/admin/MarkdownEditor.tsx`)
- [x] 이미지 최적화 적용 완료 (Next.js Image 컴포넌트 사용)

**예상 소요 시간:** 6-8시간 ✅ 완료

---

#### 5.2.3 썸네일 이미지 기능

**작업 내용:**
1. 썸네일 지정 기능
   - 글 작성 시 썸네일 이미지를 직접 업로드 가능
   - 썸네일을 업로드하지 않은 경우, 글 내 첫 번째 이미지를 자동으로 썸네일로 사용
   - 이미지가 없는 경우 썸네일 없음
2. 글 목록에 썸네일 표시
   - PostCard에 썸네일 이미지 표시
   - TossPostItem에 썸네일 이미지 표시
   - 썸네일이 없을 경우 기본 이미지 또는 제목만 표시
   - 썸네일 배경색 구분 (있을 때: bg-gray-50, 없을 때: 그라데이션)

**체크리스트:**
- [x] 썸네일 URL 입력 기능 구현 완료 (`components/admin/PostSettings.tsx`)
- [x] 썸네일 표시 개선 완료 (PostCard, TossPostItem)
- [x] 썸네일 직접 업로드 기능 구현 완료 (`components/admin/PostSettings.tsx`)
- [x] 글 내 첫 번째 이미지 자동 추출 로직 구현 완료 (`extractFirstImageUrl` 함수)

**예상 소요 시간:** 3-4시간 ✅ 완료

---

#### 5.2.4 댓글 시스템 구현

**작업 내용:**
1. 댓글 데이터베이스 함수 생성
   - `lib/supabase/comments.ts` - 댓글 관련 함수
   - 댓글 생성, 조회, 수정, 삭제 함수
2. 댓글 컴포넌트 생성
   - `components/comment/CommentList.tsx` - 댓글 목록 컴포넌트
   - `components/comment/CommentItem.tsx` - 댓글 아이템 컴포넌트
   - `components/comment/CommentForm.tsx` - 댓글 작성 폼
   - `components/comment/NonMemberCommentForm.tsx` - 비회원 댓글 작성 폼
3. 댓글 작성 기능
   - 회원: Supabase Auth로 인증된 사용자
   - 비회원: 이름과 비밀번호 입력 (비밀번호 해시 저장)
   - IP 주소 수집
4. 댓글 수정/삭제 기능
   - 비회원: 비밀번호로 인증 후 수정/삭제
   - 회원: 본인 댓글만 수정/삭제 가능
   - 관리자: 모든 댓글 삭제 가능
5. 글 상세 페이지에 댓글 통합
   - 글 하단에 댓글 목록 및 작성 폼 표시

**체크리스트:**
- [x] 댓글 데이터베이스 함수 구현 완료 (`lib/supabase/comments.ts`)
- [x] CommentList 컴포넌트 구현 완료 (`components/comment/CommentList.tsx`)
- [x] CommentForm 컴포넌트 구현 완료 (`components/comment/CommentForm.tsx`)
- [x] CommentItem 컴포넌트 구현 완료 (`components/comment/CommentItem.tsx`)
- [x] 댓글 작성 기능 구현 완료 (회원/비회원)
- [x] 댓글 수정/삭제 기능 구현 완료
- [x] 글 상세 페이지에 댓글 통합 완료 (`app/(public)/posts/[slug]/page.tsx`)
- [x] 댓글 API 라우트 구현 완료 (`app/api/comments/route.ts`, `app/api/comments/[id]/route.ts`)

**예상 소요 시간:** 6-8시간 ✅ 완료

---

### 5.3 STEP 3 완료 기준

- ✅ 태그 필터링 UI 정상 동작
- ✅ 태그별 글 목록 페이지 동작 확인
- ✅ 이미지 업로드 기능 동작 확인 (앨범 기능에서 구현)
- ✅ 글 작성 시 이미지 첨부 기능 완료
- ✅ 썸네일 직접 업로드 기능 완료
- ✅ 글 내 첫 번째 이미지 자동 추출 기능 완료
- ✅ 댓글 시스템 동작 확인 (회원/비회원) 완료
- ✅ 메인 페이지 레이아웃 개편 완료 (탭 네비게이션, 페이지네이션, 배너)

**완료 상태:** ✅ 완료

**예상 총 소요 시간:** 22-29시간 (약 2-3주) ✅ 완료

---

#### 5.2.5 갤러리/앨범 기능 구현

**작업 내용:**
1. 데이터베이스 스키마 생성
   - `albums` 테이블 생성
   - `album_images` 테이블 생성
   - RLS 정책 설정
2. 타입 정의
   - `types/album.ts` - Album, AlbumImage 타입
3. Supabase 함수 구현
   - `lib/supabase/albums.ts` - 앨범 CRUD 함수
   - `lib/supabase/albumImages.ts` - 앨범 이미지 CRUD 함수
   - `lib/supabase/storage.ts` - 이미지 업로드/삭제 함수
4. API 라우트 구현
   - `/api/albums` - 앨범 목록 조회, 생성
   - `/api/albums/[id]` - 앨범 조회, 수정, 삭제
   - `/api/albums/[id]/images` - 앨범 이미지 조회, 추가
   - `/api/albums/images/[id]` - 앨범 이미지 삭제
   - `/api/upload/image` - 이미지 업로드
5. 관리자 페이지 구현
   - `/dashboard/albums` - 앨범 목록
   - `/dashboard/albums/new` - 앨범 생성
   - `/dashboard/albums/[id]` - 앨범 관리 (사진 업로드/삭제)
6. 공개 페이지 구현
   - `/gallery` - 갤러리 메인 (Masonry Layout)
   - `/gallery/[albumId]` - 앨범 상세 페이지
7. 컴포넌트 구현
   - `AlbumForm` - 앨범 생성/수정 폼
   - `AlbumImageUploader` - 다중 이미지 업로드
   - `AlbumImageList` - 앨범 이미지 목록
   - `GalleryMasonry` - Masonry 레이아웃 갤러리
   - `ImageModal` - 사진 상세 모달 (키보드 네비게이션 지원)

**체크리스트:**
- [x] 데이터베이스 스키마 생성 완료 (`sql/create_albums_tables.sql`)
- [x] 타입 정의 완료 (`types/album.ts`)
- [x] Supabase 함수 구현 완료
- [x] API 라우트 구현 완료
- [x] 관리자 페이지 구현 완료
- [x] 공개 갤러리 페이지 구현 완료
- [x] Masonry 레이아웃 구현 완료
- [x] 사진 상세 모달 구현 완료
- [x] 이미지 업로드 기능 구현 완료

**구현된 파일:**
- `sql/create_albums_tables.sql` - 앨범 테이블 및 RLS 정책
- `sql/create_storage_policies.sql` - Storage 정책
- `types/album.ts` - 앨범 타입 정의
- `lib/supabase/albums.ts` - 앨범 데이터베이스 함수
- `lib/supabase/albumImages.ts` - 앨범 이미지 데이터베이스 함수
- `lib/supabase/storage.ts` - 이미지 업로드/삭제 함수
- `app/api/albums/route.ts` - 앨범 API
- `app/api/albums/[id]/route.ts` - 앨범 상세 API
- `app/api/albums/[id]/images/route.ts` - 앨범 이미지 API
- `app/api/albums/images/[id]/route.ts` - 앨범 이미지 삭제 API
- `app/api/upload/image/route.ts` - 이미지 업로드 API
- `app/(admin)/dashboard/albums/page.tsx` - 앨범 목록 페이지
- `app/(admin)/dashboard/albums/new/page.tsx` - 앨범 생성 페이지
- `app/(admin)/dashboard/albums/[id]/page.tsx` - 앨범 관리 페이지
- `app/(public)/gallery/page.tsx` - 갤러리 메인 페이지
- `app/(public)/gallery/[albumId]/page.tsx` - 앨범 상세 페이지
- `components/admin/AlbumForm.tsx` - 앨범 폼
- `components/admin/AlbumImageUploader.tsx` - 이미지 업로더
- `components/admin/AlbumImageList.tsx` - 이미지 목록
- `components/admin/DeleteAlbumButton.tsx` - 앨범 삭제 버튼
- `components/gallery/GalleryMasonry.tsx` - Masonry 갤러리
- `components/gallery/ImageModal.tsx` - 이미지 모달

**예상 소요 시간:** 8-10시간

---

## 6. STEP 4: 최적화 및 마무리

### 6.1 목표
- SEO 최적화
- 다크모드 구현
- UI/UX 정리 및 개선

### 6.2 작업 항목 및 순서

#### 6.2.1 SEO 최적화

**작업 내용:**
1. 메타 정보 설정
   - `app/layout.tsx`에 기본 메타 정보 추가
   - 각 페이지에 동적 메타 정보 설정
   - `description` 필드 활용
2. Open Graph 설정
   - 글 상세 페이지에 OG 태그 추가
   - 이미지, 제목, 설명 포함
3. 구조화된 데이터 (Schema.org)
   - Article 스키마 추가 (선택)
4. sitemap.xml 생성 (선택)
   - `app/sitemap.ts` 생성
   - 동적 sitemap 생성

**체크리스트:**
- [x] 기본 메타 정보 설정 완료 (`app/layout.tsx`)
- [x] 동적 메타 정보 설정 완료 (글 상세 페이지, 메인 페이지)
- [x] Open Graph 태그 추가 완료
- [x] Twitter Card 태그 추가 완료
- [x] 구조화된 데이터 추가 완료 (Schema.org Article)
- [x] sitemap 생성 완료 (`app/sitemap.ts`)
- [x] robots.txt 생성 완료 (`app/robots.ts`)

**구현된 파일:**
- `app/layout.tsx` - 기본 메타 정보 및 Open Graph 설정
- `app/(public)/posts/[slug]/page.tsx` - 글 상세 페이지 동적 메타 정보 및 구조화된 데이터
- `app/(public)/page.tsx` - 메인 페이지 동적 메타 정보
- `app/(public)/gallery/page.tsx` - 갤러리 페이지 메타 정보
- `app/sitemap.ts` - 동적 sitemap 생성
- `app/robots.ts` - robots.txt 생성

**예상 소요 시간:** 4-5시간 ✅ 완료

---

#### 6.2.2 다크모드 구현

**작업 내용:**
1. 테마 관리 시스템 구축
   - `contexts/ThemeContext.tsx` 생성
   - 로컬 스토리지에 테마 저장
2. 다크모드 스타일 적용
   - Tailwind 다크모드 설정
   - `tailwind.config.ts`에 darkMode 설정
3. 테마 토글 버튼
   - Header에 테마 토글 버튼 추가
   - 아이콘 변경 (라이트/다크)
4. 컴포넌트별 다크모드 스타일 적용
   - 모든 컴포넌트에 다크모드 클래스 추가

**체크리스트:**
- [x] ThemeContext 구현 완료 (`contexts/ThemeContext.tsx`)
- [x] Tailwind 다크모드 설정 완료 (`tailwind.config.ts` - `darkMode: "class"`)
- [x] 다크모드 CSS 변수 추가 완료 (`app/globals.css`)
- [x] 테마 토글 버튼 구현 완료 (`components/layout/ThemeToggle.tsx`)
- [x] Header에 테마 토글 버튼 추가 완료
- [x] 주요 컴포넌트 다크모드 스타일 적용 완료 (하드코딩된 색상 CSS 변수로 변경)
- [x] ThemeProvider를 RootLayout에 추가 완료

**구현된 파일:**
- `contexts/ThemeContext.tsx` - 테마 관리 Context 및 Provider
- `components/layout/ThemeToggle.tsx` - 테마 토글 버튼 컴포넌트
- `app/layout.tsx` - ThemeProvider 추가
- `app/globals.css` - 다크모드 CSS 변수 추가
- `components/post/TossPostItem.tsx` - 하드코딩된 색상 CSS 변수로 변경
- `components/post/PostCard.tsx` - 하드코딩된 색상 CSS 변수로 변경
- `components/layout/AuthButtons.tsx` - 하드코딩된 색상 CSS 변수로 변경
- `components/auth/SocialLoginButtons.tsx` - 다크모드 대응
- `app/(public)/auth/login/page.tsx` - 링크 색상 CSS 변수로 변경
- `app/(public)/auth/signup/page.tsx` - 링크 색상 CSS 변수로 변경

**예상 소요 시간:** 5-6시간 ✅ 완료

---

#### 6.2.3 UI/UX 정리 및 개선

**작업 내용:**
1. 메인 페이지 레이아웃 개편 (토스/카카오페이 스타일)
   - 탭 네비게이션 구현 (전체, TECH, TROUBLESHOOTING, PROJECT)
   - 페이지네이션 구현 (10개씩 표시)
   - 태그 필터를 우측 사이드바로 이동
   - 배너 이미지 추가 (hero 섹션)
   - TossPostItem 컴포넌트에 태그 및 타입 뱃지 추가
2. 반응형 디자인 개선
   - 모바일, 태블릿, 데스크톱 대응
   - 태그 필터 모바일 대응 (lg 이상에서만 표시)
3. 이미지 업로드 개선
   - 한글 파일명 처리 개선 (sanitizeFilename 함수)
   - 사용자 친화적인 에러 메시지
4. 썸네일 표시 개선
   - PostCard와 TossPostItem에서 썸네일 배경색 구분
   - 썸네일이 있을 때와 없을 때 시각적 구분
5. 로딩 상태 처리
   - `app/loading.tsx` 생성
   - 컴포넌트별 로딩 스켈레톤 추가
6. 에러 처리 개선
   - `app/error.tsx` 개선
   - 사용자 친화적인 에러 메시지
7. 접근성 개선
   - 키보드 네비게이션
   - ARIA 레이블 추가
8. 성능 최적화
   - 이미지 최적화 확인
   - 코드 스플리팅 확인
   - ISR 설정 확인

**구현된 파일:**
- `components/post/TabNavigation.tsx` - 탭 네비게이션 컴포넌트
- `components/post/Pagination.tsx` - 페이지네이션 컴포넌트
- `components/post/TossPostItem.tsx` - 토스 스타일 게시글 아이템 (태그 및 타입 뱃지 포함)
- `app/(public)/page.tsx` - 메인 페이지 레이아웃 개편
- `app/api/upload/image/route.ts` - 이미지 업로드 개선 (한글 파일명 처리)

**체크리스트:**
- [x] 메인 페이지 레이아웃 개편 완료 (탭 네비게이션, 페이지네이션, 배너)
- [x] 태그 필터 사이드바 이동 완료
- [x] TossPostItem에 태그 추가 완료
- [x] 이미지 업로드 개선 완료 (한글 파일명 처리)
- [x] 썸네일 표시 개선 완료
- [x] 로딩 상태 처리 완료 (`app/loading.tsx`, `app/(public)/loading.tsx`, `app/(public)/posts/[slug]/loading.tsx`, `app/(public)/gallery/loading.tsx`)
- [x] 에러 처리 개선 완료 (`app/error.tsx`, `app/not-found.tsx`)
- [x] 접근성 개선 완료 (ARIA 레이블, 키보드 네비게이션, 포커스 스타일)
- [x] 성능 최적화 확인 완료 (Next.js Image 컴포넌트 사용, 이미지 최적화)

**구현된 파일:**
- `app/loading.tsx` - 전역 로딩 컴포넌트
- `app/(public)/loading.tsx` - 공개 페이지 로딩 스켈레톤
- `app/(public)/posts/[slug]/loading.tsx` - 글 상세 페이지 로딩 스켈레톤
- `app/(public)/gallery/loading.tsx` - 갤러리 페이지 로딩 스켈레톤
- `app/error.tsx` - 에러 페이지
- `app/not-found.tsx` - 404 페이지
- `components/ui/Skeleton.tsx` - 재사용 가능한 스켈레톤 컴포넌트
- `components/layout/Header.tsx` - 접근성 개선 (ARIA 레이블, 포커스 스타일)
- `components/post/TabNavigation.tsx` - 접근성 개선 (키보드 네비게이션, ARIA)
- `components/post/Pagination.tsx` - 접근성 개선 (ARIA 레이블)
- `components/tag/TagFilter.tsx` - 접근성 개선 (ARIA 레이블)
- `components/post/TossPostItem.tsx` - Next.js Image 컴포넌트로 최적화
- `components/post/PostCard.tsx` - Next.js Image 컴포넌트로 최적화
- `app/globals.css` - 포커스 스타일 및 스킵 링크 추가

**예상 소요 시간:** 6-8시간 ✅ 완료

---

#### 6.2.4 배포 준비

**작업 내용:**
1. Vercel 배포 설정
   - Vercel 프로젝트 생성
   - GitHub 연동
   - 환경 변수 설정
2. Supabase 프로덕션 설정
   - 프로덕션 데이터베이스 확인
   - RLS 정책 재확인
3. 빌드 테스트
   - 로컬 빌드 테스트
   - 빌드 에러 수정
4. 프로덕션 테스트
   - 배포 후 기능 테스트
   - 성능 확인

**체크리스트:**
- [ ] Vercel 배포 설정 완료
- [ ] 환경 변수 설정 완료
- [ ] 빌드 테스트 완료
- [ ] 프로덕션 테스트 완료

**예상 소요 시간:** 2-3시간

---

### 6.3 STEP 4 완료 기준

- ✅ SEO 메타 정보 설정 완료
- ✅ 다크모드 정상 동작
- ✅ 반응형 디자인 적용 완료
- ✅ 프로덕션 배포 완료

**예상 총 소요 시간:** 17-22시간 (약 1주)

---

## 7. 전체 일정 요약

### 7.1 단계별 소요 시간

| 단계 | 예상 소요 시간 | 누적 시간 | 완료 상태 |
|------|---------------|----------|----------|
| STEP 1 | 16-21시간 | 16-21시간 | ✅ 완료 |
| STEP 2 | 12-15시간 | 27-35시간 | ✅ 완료 |
| STEP 3 | 22-29시간 | 49-64시간 | ✅ 완료 |
| STEP 4 | 17-22시간 | 57-74시간 | ⏳ 미시작 |

**총 예상 소요 시간:** 약 67-85시간 (약 6-8주)

**현재 진행 상황:**
- ✅ STEP 1: 기초 인프라 구축 완료
- ✅ STEP 2: 핵심 기능 구현 완료 (Markdown 렌더링, 태그 시스템, Velog 스타일 에디터)
- ✅ STEP 3: 사용자 경험 개선 완료
  - ✅ 태그 필터링 UI 구현 완료
  - ✅ 이미지 업로드 기능 구현 완료 (갤러리/앨범 기능에서 구현)
  - ✅ 갤러리/앨범 기능 구현 완료
  - ✅ 메인 페이지 레이아웃 개편 완료 (탭 네비게이션, 페이지네이션, 배너)
  - ✅ 이미지 업로드 개선 완료 (한글 파일명 처리)
  - ✅ 썸네일 표시 개선 완료
  - ✅ 글 작성 시 이미지 첨부 기능 완료
  - ✅ 썸네일 직접 업로드 기능 완료
  - ✅ 글 내 첫 번째 이미지 자동 추출 기능 완료
  - ✅ 댓글 시스템 완료
- ⏳ STEP 4: 최적화 및 마무리 진행 중
  - ✅ UI/UX 개선 일부 완료 (메인 페이지 레이아웃 개편)

### 7.2 주차별 계획 (예시)

**1주차:** STEP 1 완료
- 프로젝트 세팅
- Supabase 연동
- 인증 시스템
- 기본 CRUD

**2-3주차:** STEP 2 완료 ✅
- Markdown 렌더링
- 태그 시스템
- Velog 스타일 에디터

**4주차:** STEP 3 완료 ✅
- 태그 필터링 ✅
- 이미지 업로드 ✅ (갤러리/앨범 기능)
- 갤러리/앨범 기능 ✅
- 메인 페이지 레이아웃 개편 ✅ (탭 네비게이션, 페이지네이션, 배너)
- 이미지 업로드 개선 ✅ (한글 파일명 처리)
- 썸네일 표시 개선 ✅
- 글 작성 시 이미지 첨부 ✅
- 썸네일 직접 업로드 ✅
- 글 내 첫 번째 이미지 자동 추출 ✅
- 댓글 시스템 ✅

**5주차:** STEP 4 예정
- SEO, 다크모드
- UI 정리 및 배포

---

## 8. 개발 팁 및 주의사항

### 8.1 개발 팁

1. **작은 단위로 커밋**
   - 각 기능 완료 시 즉시 커밋
   - 의미 있는 커밋 메시지 작성

2. **TRD 문서 참고**
   - 컴포넌트 분리 기준 준수
   - 네이밍 컨벤션 준수
   - 폴더 구조 준수

3. **점진적 개발**
   - 완벽하지 않아도 동작하는 버전부터
   - 이후 점진적으로 개선

4. **테스트 데이터 준비**
   - 개발 초기부터 테스트 데이터 준비
   - 다양한 시나리오 테스트

### 8.2 주의사항

1. **환경 변수 관리**
   - `.env.local`은 절대 커밋하지 않기
   - `.env.example`에 예시만 포함

2. **RLS 정책 확인**
   - Supabase RLS 정책 정기적으로 확인
   - 보안 취약점 점검

3. **성능 고려**
   - 이미지 최적화 필수
   - 불필요한 리렌더링 방지
   - ISR 설정 적절히 활용

4. **에러 처리**
   - 모든 API 호출에 에러 처리 추가
   - 사용자 친화적인 에러 메시지

---

## 9. 체크리스트 (전체)

### STEP 1 체크리스트
- [x] Next.js 프로젝트 생성
- [x] Supabase 연동
- [x] 데이터베이스 스키마 구축
- [x] 인증 시스템 구현 (로그인/회원가입, 역할 기반 접근 제어)
- [x] 기본 레이아웃 구성
- [x] 글 CRUD 기능 구현
- [x] 포스트 설정 컴포넌트 구현 (썸네일, 설명, 공개 설정)

### STEP 2 체크리스트
- [x] Markdown 렌더링 구현
- [x] 코드 하이라이팅 구현
- [x] 태그 시스템 구현
- [x] 태그 CRUD 기능 구현
- [x] Velog 스타일 마크다운 에디터 구현

### STEP 3 체크리스트
- [x] 태그 필터링 UI 구현
- [x] 이미지 업로드 기능 구현 (앨범 기능에서 구현)
- [x] 갤러리/앨범 기능 구현
- [x] 메인 페이지 레이아웃 개편 (탭 네비게이션, 페이지네이션, 배너)
- [x] 이미지 업로드 개선 (한글 파일명 처리)
- [x] 썸네일 표시 개선
- [x] 글 타입 변경 (LIFE → PROJECT)
- [x] 글 작성 시 이미지 첨부 기능
- [x] 썸네일 직접 업로드 기능
- [x] 글 내 첫 번째 이미지 자동 추출 기능
- [x] 댓글 시스템 구현

### STEP 4 체크리스트
- [x] SEO 최적화 완료
  - [x] 기본 메타 정보 설정
  - [x] 동적 메타 정보 설정
  - [x] Open Graph 태그 추가
  - [x] Twitter Card 태그 추가
  - [x] 구조화된 데이터 (Schema.org Article) 추가
  - [x] sitemap.xml 생성
  - [x] robots.txt 생성
- [x] 다크모드 구현 완료
  - [x] ThemeContext 구현
  - [x] Tailwind 다크모드 설정
  - [x] 다크모드 CSS 변수 추가
  - [x] 테마 토글 버튼 구현
  - [x] 주요 컴포넌트 다크모드 스타일 적용
- [x] UI/UX 정리 일부 완료 (메인 페이지 레이아웃 개편)
- [ ] 배포 준비 완료

---

## 10. 문제 해결 가이드

### 10.1 자주 발생하는 문제

**문제 1: Supabase 연결 오류**
- 환경 변수 확인
- Supabase 프로젝트 상태 확인
- 네트워크 연결 확인

**문제 2: RLS 정책 오류**
- RLS 정책 재확인
- 테스트 계정 권한 확인

**문제 3: 이미지 업로드 실패**
- Storage 버킷 설정 확인
- 파일 크기 제한 확인
- 업로드 정책 확인

**문제 4: 빌드 에러**
- TypeScript 타입 오류 확인
- 의존성 버전 확인
- Next.js 버전 호환성 확인

---

## 11. 참고 자료

### 공식 문서
- [Next.js App Router](https://nextjs.org/docs/app)
- [Supabase 문서](https://supabase.com/docs)
- [Tailwind CSS](https://tailwindcss.com/docs)
- [shadcn/ui](https://ui.shadcn.com/)

### 유용한 라이브러리
- `react-markdown` - Markdown 렌더링
- `react-syntax-highlighter` - 코드 하이라이팅
- `next-themes` - 다크모드 관리 (선택)

---

## 12. 결론

본 구현 가이드는 PRD와 TRD를 기반으로 작성되었습니다.

**핵심 원칙:**
- 단계별로 명확한 목표 설정
- 작은 단위로 점진적 개발
- 완벽보다 동작하는 버전 우선
- 지속적인 개선

프로젝트 진행 중 필요에 따라 본 문서를 업데이트하며, 각 단계 완료 시 체크리스트를 확인하세요.

**행운을 빕니다! 🚀**

