# 개인 기술 블로그 기획 문서

## 1. 기획 배경

본 프로젝트는 **1년차 프론트엔드 개발자의 성장 기록과 아카이빙**을 목적으로 한다.

업무 중 얻은 인사이트, 트러블슈팅 과정, 사소한 버그 해결 기록까지 모두 남기며  
기술 외적으로는 사진과 일상 기록을 함께 관리할 수 있는 **개인 블로그 플랫폼**를 구축한다.

핵심 가치는 다음과 같다.

- 완성도보다 **지속적인 기록**
- 비용 최소화
- 확장 가능한 구조 설계

---

## 2. 기획 목표

### 🎯 핵심 목표
- 기술 학습 및 실무 경험 기록
- 트러블슈팅 과정 아카이브
- 개인 취미 및 일상 기록
- 이직/포트폴리오 활용 가능

### ❌ 지양
- 과도한 기능
- 초기부터 복잡한 구조
- 영상 업로드 기능

---

## 3. 기술 스택

### Frontend
- Next.js (App Router)
- TypeScript
- Tailwind CSS
- shadcn/ui (선택)

### Backend / Infra
- Supabase
  - Auth (Email 로그인)
  - Database (PostgreSQL)
  - Storage (이미지)
- Vercel (배포)

> 목표 월 비용: **0원**

---

## 4. 주요 기능 정의 (MVP)

### 4.1 글(Post) 관리

#### 글 타입
- TECH : 기술 학습 및 개발 기록
- TROUBLESHOOTING : 버그 및 이슈 해결 과정
- PROJECT : 프로젝트 기록

#### 기능
- Markdown 기반 글 작성
- Draft / Publish 상태 관리
- 공개 / 비공개 설정
- 수정 / 삭제
- 태그 연결
- 글 요약/설명 (description) - 목록 미리보기 및 SEO용

---

### 4.2 태그 시스템

#### 태그 목적
- 글 분류
- 빠른 탐색
- Velog 스타일의 시각적 필터링 제공

#### 태그 특징
- 하나의 글에 여러 태그 가능
- 태그별 글 개수 표시
- 태그는 독립적인 엔티티로 관리

---

### 4.3 태그 기반 필터링 UI (Velog 스타일)

#### 요구사항
- 태그 목록 영역 제공 (좌측 또는 상단)
- 각 태그별 글 개수 표시
- 태그 클릭 시 해당 태그의 글만 필터링
- 선택된 태그 시각적 강조
- 전체 보기(All) 제공

> 예시:
> - 전체보기 (91)
> - TIL (26)
> - React (19)
> - 알고리즘 (16)
> - js (13)

---

### 4.4 이미지 관리

#### 이미지 업로드
- Supabase Storage 사용
- 글 작성 시 이미지 첨부 가능

#### 사용 목적
- 기술 설명 보조
- 일상 기록
- 프로젝트 스크린샷

### 4.5 썸네일 관리

#### 썸네일 설정 방식
1. **직접 업로드**: 글 작성 시 썸네일 이미지를 직접 업로드
2. **자동 추출**: 썸네일을 업로드하지 않은 경우, 글 내 첫 번째 이미지를 자동으로 썸네일로 사용
3. **없음**: 이미지가 없는 경우 썸네일 없음

#### 사용 목적
- 글 목록에서 시각적 구분
- SEO 및 소셜 미디어 공유 시 미리보기 이미지

---

### 4.6 인증 / 권한

#### 로그인 방식
- **Email 로그인**: 전통적인 이메일/비밀번호 방식
- **소셜 로그인**: GitHub, Google 로그인 지원
  - 개발자 친화적인 인증 방식
  - OAuth 2.0 기반 안전한 인증

#### 권한 관리
- 관리자 1명 (본인)
- 글 작성 / 수정은 로그인 사용자만 가능
- 방문자는 읽기 전용

### 4.7 댓글 시스템

#### 댓글 작성 권한
- **회원**: Supabase Auth로 로그인한 사용자 (Email, GitHub, Google 로그인 포함)
- **비회원**: 이름과 비밀번호 입력하여 작성 가능

#### 비회원 댓글 작성
- 이름 입력 필드 (비회원 사용자 구분용)
- 비밀번호 입력 필드 (댓글 수정/삭제 시 필요)
  - 영문, 숫자, 특수문자 포함 6글자 이상
- IP 주소 수집 (건전한 사이트 유지 목적)

#### 댓글 관리
- 댓글 수정/삭제 기능
- 비회원: 비밀번호로 인증 후 수정/삭제
- 회원: 본인 댓글만 수정/삭제 가능
- 관리자: 모든 댓글 삭제 가능
- 욕설, 광고, 정치 관련 등 부적절한 댓글은 관리자에 의해 삭제 가능

---

## 5. 데이터베이스 설계 (초기)

### posts
```sql
id (uuid)
title
description (text) - 글 요약/설명 (SEO 및 목록 미리보기용)
content (markdown)
type (TECH | TROUBLESHOOTING | PROJECT)
thumbnail_url (text) - 썸네일 이미지 URL (nullable)
is_published (boolean)
created_at
updated_at
```

### tags
```sql
id (uuid)
name
```

> **태그별 글 개수 조회 방식**
> - `post_count` 컬럼 제거 (유지보수 단순화)
> - 조회 시 실시간 COUNT 사용: `LEFT JOIN post_tags` 후 `COUNT()` 집계
> - 인덱스 활용으로 성능 충분 (개인 블로그 규모)

### post_tags
```sql
post_id
tag_id
```

### images
```sql
id (uuid)
url
post_id (uuid) - NOT NULL, 글에 속한 이미지
position (integer) - 이미지 순서 (기본값 0)
created_at (timestamp) - 생성 시각
```

> **이미지 관리 방식**
> - 모든 이미지는 반드시 글에 속함 (`post_id NOT NULL`)
> - `position`으로 이미지 순서 관리 (Markdown 렌더링 시 순서 보장)
> - `created_at`으로 관리/디버깅 용이

### comments
```sql
id (uuid)
post_id (uuid) - NOT NULL, 참조하는 글 ID
content (text) - 댓글 내용 (최대 2000자 제한)
author_name (text) - 작성자 이름 (비회원의 경우)
author_id (uuid) - 작성자 ID (회원의 경우, nullable, SET NULL)
password_hash (text) - 비회원 댓글 비밀번호 해시 (nullable)
ip_address (text) - 작성자 IP 주소
is_deleted (boolean) - 삭제 여부
deleted_at (timestamp) - 삭제 시각 (nullable)
created_at (timestamp)
updated_at (timestamp)
```

> **댓글 관리 방식**
> - 회원/비회원 중 정확히 하나만 허용 (CHECK 제약)
> - 회원 탈퇴 시 댓글은 유지, 작성자만 NULL 처리 (`SET NULL`)
> - 댓글 내용 최대 2000자 제한 (UI/UX 안정성)
> - `deleted_at`으로 삭제 시각 기록 (운영/디버깅 용이)

> **태그별 글 개수 조회 방식**
> - `post_count` 컬럼 제거 (유지보수 단순화)
> - 조회 시 실시간 COUNT 사용: `LEFT JOIN post_tags` 후 `COUNT()` 집계
> - 인덱스 활용으로 성능 충분 (개인 블로그 규모)

---

## 6. 페이지 구성

### 메인 페이지
- 최신 글 목록
- 태그 필터 영역

### 태그 필터 페이지
- 선택한 태그에 해당하는 글 목록
- 전체 보기 가능

### 글 상세 페이지
- Markdown 렌더링
- 코드 하이라이트
- 이미지 표시
- 태그 노출
- SEO 메타 정보 (description, Open Graph)
- 댓글 목록 및 작성 기능

### 관리자 페이지
- 로그인
- 글 작성 / 수정
- Draft 관리

---

## 7. 트래픽 및 운영 고려 사항 (DAU 1,000 기준)

### 7.1 예상 트래픽 특성
- 작성자: 1명
- 방문자: 읽기 전용
- 트래픽 대부분은 글 목록 / 태그 필터 / 글 상세 조회

### 7.2 렌더링 전략

#### 기본 원칙
- SSR 최소화
- 정적 페이지 + 캐시 중심 설계

#### 적용 방식
- 글 목록 페이지: SSG / ISR
- 태그 목록 페이지: SSG / ISR
- 태그별 글 목록: SSG / ISR
- 글 상세 페이지: SSG / ISR
- 관리자 / Draft 미리보기: SSR

> 대부분의 트래픽은 정적 페이지로 처리하여 서버 부하 최소화

### 7.3 Supabase 사용 시 주의점

#### 잠재적 문제
- 태그별 COUNT 쿼리 남발
- 페이지 요청마다 DB 조회
- 이미지 원본 대역폭 사용량 증가

#### 대응 전략
- 태그 개수는 조회 시 실시간 COUNT (인덱스 활용)
- 목록/태그 페이지는 SSG/ISR로 정적화
- DB read 요청 최소화

### 7.4 이미지 트래픽 관리

#### 업로드 정책
- 이미지 최대 용량 제한 (예: 5MB)
- 웹용 포맷(webp) 또는 리사이즈 권장

#### 노출 정책
- 글 목록: 썸네일 이미지
- 글 상세: 원본 또는 고해상도 이미지

> 이미지 대역폭이 가장 큰 비용/쿼터 요인이므로 반드시 제한

### 7.5 비용 및 안정성 평가

DAU 1,000 기준:
- Supabase Free 플랜 유지 가능
- Vercel Free 플랜 유지 가능

병목 발생 가능 지점:
- SSR 과다 사용
- 이미지 원본 트래픽

> 정적화 + 집계 구조를 적용하면 안정적 운영 가능

---

## 8. 개발 단계별 계획

### STEP 1
- Next.js 프로젝트 세팅
- Supabase 연동
- 로그인
- 글 CRUD (텍스트 중심)

### STEP 2
- Markdown 렌더링
- 코드 하이라이팅
- 태그 CRUD

### STEP 3
- 태그 기반 필터링 UI
- 이미지 업로드

### STEP 4
- SEO (메타 정보, Open Graph)
- 다크모드
- UI 정리

---

## 9. 운영 원칙
- 글 길이 제한 없음
- 사소한 기록도 허용
- 완성도보다 기록 우선
- 하루 한 줄도 기록으로 인정

---

## 10. 확장 아이디어 (추후)
- 검색 기능
- 시리즈 글
- 조회수 통계
- 공개/비공개 태그
- 목차 자동 생성 (Markdown 헤더 기반)
- 참고 자료/링크 관리 (글 내 참고 링크 목록, 관련 글 연결)
- SNS 공유 기능 (트위터, 페이스북 등)
- 독자 대상 설정 (초보자/중급자/고급자 분류)

---

## 11. 결론
본 블로그는 기술 블로그 + 개인 기록 아카이브를 동시에 만족하는 플랫폼을 목표로 한다.

초기에는 단순하게 시작하되,
DAU 1,000 수준의 운영을 고려한 구조를 선제적으로 적용하여
비용과 성능 모두 안정적인 서비스를 지향한다.